{"version":3,"sources":["services/contactService.js","components/Filter.js","components/PersonForm.js","components/OneContact.js","components/Contacts.js","components/Title.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","person","put","id","delete","Filter","filter","handleFilter","value","onChange","PersonForm","persons","setPersons","snackbar","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","newPerson","name","number","length","window","confirm","sameContact","services","map","catch","error","concat","target","type","OneContact","onClick","finally","Contacts","filtered","filteredPersons","toLowerCase","includes","index","Title","title","Notification","notification","text","style","color","backgroundColor","border","padding","margin","App","setFilter","setNotification","useEffect","newText","newType","setTimeout","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cb71d21b.chunk.js","sourcesContent":["import axios from 'axios';\n// const baseUrl = 'http://localhost:3001/api/persons';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then((response) => response.data);\n};\n\nconst addPerson = (newObject) => {\n    const request = axios.post(baseUrl, newObject);\n    return request.then((response) => response.data);\n\n};\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`);\n    return request.then((response) => response.data);\n};\n\nconst updateContact = (person) => {\n    const request = axios.put(`${baseUrl}/${person.id}`, person);\n    return request.then((response) => response.data);\n};\n\nexport default {\n    getAll,\n    addPerson,\n    updateContact,\n    deletePerson,\n};\n","import React from 'react';\n\nconst Filter = ({ filter, handleFilter }) => {\n    return (\n        <div>\n            name: <input value={filter} onChange={handleFilter} />\n        </div>\n    );\n};\n\nexport default Filter;\n","import React, { useState } from 'react';\n\nimport services from '../services/contactService';\n\nconst PersonForm = ({ persons, setPersons, snackbar }) => {\n    const [newName, setNewName] = useState('');\n    const [newNumber, setNewNumber] = useState('');\n\n    const addContact = (event) => {\n        event.preventDefault();\n        const newPerson = { name: newName, number: newNumber };\n        if (newPerson.name === '' || newPerson.number === '') {\n            snackbar('Please enter name and number', 'error');\n        } else if (persons.filter((person) => person.name === newPerson.name).length > 0) {\n            if (\n                window.confirm(\n                    `${newPerson.name} already added to phonebook, replace the old number with a new one?`\n                )\n            ) {\n                const sameContact = persons.filter((person) => person.name === newName)[0];\n                services\n                    .updateContact({ ...sameContact, number: newPerson.number })\n                    .then((response) => {\n                        setPersons(\n                            persons.map((person) =>\n                                person.id === sameContact.id ? response : person\n                            )\n                        );\n                        setNewName('');\n                        setNewNumber('');\n                        snackbar(`${sameContact.name} number was successfully updated`, 'success');\n                    })\n                    .catch(error => {\n                        snackbar(error.response.data.error, 'error');\n                    });\n            }\n        } else {\n            services.addPerson(newPerson)\n            .then((response) => {\n                setPersons(persons.concat(response));\n                setNewName('');\n                setNewNumber('');\n                snackbar(`Added ${newPerson.name}`, 'success');\n            })\n            .catch( error => {\n                snackbar(error.response.data.error, 'error');\n            })\n        }\n    };\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value);\n    };\n\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value);\n    };\n\n    return (\n        <form onSubmit={addContact}>\n            <div>\n                name: <input value={newName} onChange={handleNameChange} />\n            </div>\n            <div>\n                number: <input value={newNumber} onChange={handleNumberChange} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    );\n};\n\nexport default PersonForm;\n","import React from 'react';\n\nimport services from '../services/contactService';\n\nconst OneContact = ({ persons, person, setPersons, snackbar }) => {\n    const handleDelete = (id) => {\n        if (window.confirm(`Delete ${person.name}?`)) {\n            services\n                .deletePerson(id)\n                .then(() => {\n                    snackbar(`${person.name} has been successfully removed from server`, 'success');\n                })\n                .catch(() => {\n                    snackbar(`${person.name} has been already removed from server`, 'error');\n                })\n                .finally(() => {\n                    setPersons(persons.filter((person) => person.id !== id));\n                });\n        };\n    };\n    return (\n        <div>\n            {person.name} {person.number}\n            <button onClick={() => handleDelete(person.id)}>delete</button>\n        </div>\n    );\n};\n\nexport default OneContact;\n","import React from 'react';\nimport OneContact from './OneContact';\n\nconst Contacts = ({ persons, filtered, setPersons, snackbar }) => {\n    const filteredPersons =\n        filtered === ''\n            ? persons\n            : persons.filter((person) =>\n                  person.name.toLowerCase().includes(filtered.toLowerCase())\n              );\n\n    return (\n        <div>\n            {filteredPersons.map((person, index) => (\n                <OneContact\n                    key={index}\n                    persons={persons}\n                    person={person}\n                    setPersons={setPersons}\n                    snackbar={snackbar}\n                />\n            ))}\n        </div>\n    );\n};\n\nexport default Contacts;\n","import React from 'react';\n\nconst Title = ({ title }) => {\n    return <h2>{title}</h2>;\n};\n\nexport default Title;\n","import React from 'react';\n\nconst Notification = ({ notification: {text, type} }) => {\n    const style = {\n        color: type === 'error' ? 'red' : 'green',\n        backgroundColor: 'lightgrey',\n        border: type === 'error' ? '1px solid red' : '1px solid green',\n        padding: '5px',\n        margin: '0px 0px 10px 0px',\n    }\n    if (text === '') {\n        return null;\n    }\n\n    return <div style={style}>{text}</div>;\n};\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\n\nimport services from './services/contactService';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Contacts from './components/Contacts';\nimport Title from './components/Title';\nimport Notification from './components/Notification';\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [filtered, setFilter] = useState('');\n    const [notification, setNotification] = useState({ text: '', type: '' });\n\n    useEffect(() => {\n        services.getAll().then((response) => {\n            setPersons(response);\n        });\n    }, []);\n\n    const handleFilter = (event) => {\n        setFilter(event.target.value);\n    };\n\n    const snackbar = (newText, newType) => {\n        setNotification({ text: newText, type: newType });\n        setTimeout(() => setNotification({ text: '', type: '' }), 3000);\n    };\n\n    return (\n        <div>\n            <Title title=\"Phonebook\" />\n            <Notification notification={notification} />\n            <Filter filtered={filtered} handleFilter={handleFilter} />\n            <Title title=\"add a new\" />\n            <PersonForm persons={persons} setPersons={setPersons} snackbar={snackbar} />\n            <Title title=\"Numbers\" />\n            <Contacts\n                persons={persons}\n                filtered={filtered}\n                setPersons={setPersons}\n                snackbar={snackbar}\n            />\n        </div>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}